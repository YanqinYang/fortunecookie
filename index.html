<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fortune Cookie</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            padding-top: 50px; /* 新增顶部间距 */
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            text-align: center;
        }
        .cookie-container {
            position: relative;
            width: 350px;
            height: 250px;
            margin: 20px auto;
        }
        .cookie-img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            cursor: pointer;
            position: absolute;
            top: 0;
            left: 0;
            transition: all 0.5s ease;
        }
        #crackedCookie {
            opacity: 0;
            pointer-events: none;
        }
        .fortune-text {
            position: absolute;
            top: 60%; /* 微调垂直位置 */
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50%;
            color: #2575fc;
            font-size: 14px;
            font-weight: normal;
            display: none;
            z-index: 20;
            line-height: 1.3;
            text-align: center;
            word-wrap: break-word;
            padding: 0 5px;
        }
        .shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20% { transform: translateX(-10px) rotate(-5deg); }
            40% { transform: translateX(10px) rotate(5deg); }
            60% { transform: translateX(-10px) rotate(-5deg); }
            80% { transform: translateX(10px) rotate(5deg); }
        }
        .action-buttons {
            margin-top: 30px;
            display: none;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }
        button, .action-btn {
            width: 200px;
            color: white;
            border: none;
            padding: 12px 0;
            margin: 5px 0;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: all 0.3s;
            text-align: center;
            font-size: 14px;
        }
        #crackAgain {
            background: #FFA500; /* 橙色按钮 */
        }
        #crackAgain:hover {
            background: #E69500;
        }
        .facebook {
            background: #3B5998;
        }
        .facebook:hover {
            background: #344e86;
        }
    </style>
</head>
<body>
    <h1>Fortune Cookie</h1>
    
    <div class="cookie-container">
        <img src="https://raw.githubusercontent.com/yanqinyang/fortunecookie/main/FC.png" 
             id="wholeCookie" class="cookie-img" alt="Fortune Cookie">
        <div id="fortune" class="fortune-text"></div>
        <img src="https://raw.githubusercontent.com/yanqinyang/fortunecookie/main/CFC.png" 
             id="crackedCookie" class="cookie-img" alt="Cracked Cookie">
    </div>
    
    <div class="action-buttons" id="actionButtons">
        <button id="crackAgain">Crack Again</button>
        <button class="action-btn facebook" id="shareFacebook">Share to Facebook</button>
    </div>

    <audio id="crackSound" src="https://raw.githubusercontent.com/yanqinyang/fortunecookie/main/ccrack.mp3" preload="auto"></audio>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const wholeCookie = document.getElementById('wholeCookie');
            const crackedCookie = document.getElementById('crackedCookie');
            const fortune = document.getElementById('fortune');
            const actionButtons = document.getElementById('actionButtons');
            const crackAgainBtn = document.getElementById('crackAgain');
            const shareFacebook = document.getElementById('shareFacebook');
            const crackSound = document.getElementById('crackSound');
            
            // 完整99条短运势
            const fortunes = [
                "Today is your lucky day",
                "Good news is coming soon",
                "Smile to attract joy",
                "Adventure awaits you",
                "Success is in your future",
                "Trust your intuition",
                "A surprise is coming",
                "Love is around the corner",
                "Your creativity shines",
                "New opportunities arise",
                "Dream big, achieve bigger",
                "Kindness brings rewards",
                "Good things take time",
                "Your energy attracts luck",
                "Challenges make you stronger",
                "Happiness is a choice",
                "Learn from every experience",
                "Your potential is limitless",
                "Patience leads to success",
                "The best is yet to come",
                "Embrace new beginnings",
                "Your smile changes everything",
                "Luck favors the bold",
                "Great ideas are coming",
                "Stay positive, stay winning",
                "Your hard work pays off",
                "Miracles happen daily",
                "Believe in your magic",
                "Good vibes only",
                "The universe supports you",
                "Expect the unexpected",
                "Joy is coming your way",
                "Take a leap of faith",
                "Good fortune follows you",
                "Your kindness matters",
                "Opportunity knocks softly",
                "Dreams are coming true",
                "Hope lights your path",
                "Wonderful surprises await",
                "Love finds its way",
                "Success is your destiny",
                "Bright days ahead",
                "Your spirit shines bright",
                "Peace follows your heart",
                "Laughter heals your soul",
                "Wishes will come true",
                "Change brings new chances",
                "Courage leads to victory",
                "Wisdom guides your steps",
                "Patience brings rewards",
                "Hope springs eternal",
                "Joy multiplies when shared",
                "Your light inspires others",
                "Good health surrounds you",
                "Wealth flows to you",
                "Friendship blooms anew",
                "Harmony fills your days",
                "Creativity sparks ideas",
                "Confidence opens doors",
                "Gratitude attracts abundance",
                "Serenity calms your mind",
                "Passion fuels success",
                "Imagination creates reality",
                "Optimism brightens tomorrow",
                "Strength comes from within",
                "Beauty surrounds you",
                "Wonder fills each day",
                "Adventure calls your name",
                "Loyalty brings rewards",
                "Honesty builds trust",
                "Generosity returns tenfold",
                "Simplicity brings clarity",
                "Balance creates harmony",
                "Freedom lifts your spirit",
                "Playfulness keeps you young",
                "Curiosity leads to discovery",
                "Ambition drives success",
                "Persistence overcomes all",
                "Resilience builds character",
                "Compassion touches hearts",
                "Forgiveness brings peace",
                "Teamwork achieves dreams",
                "Leadership inspires many",
                "Innovation solves problems",
                "Determination writes history",
                "Excellence becomes habit",
                "Quality speaks volumes",
                "Preparation meets opportunity",
                "Action defeats doubt",
                "Vision creates future",
                "Risk brings reward",
                "Growth follows challenge",
                "Learning never ends",
                "Time favors the bold",
                "Energy attracts success",
                "Charms work in your favor",
                "Stars align for you",
                "Offer Yanqin your favorite fortune cookie quota",
                "Magic happens today"
            ];
            
            function crackCookie() {
                crackSound.currentTime = 0;
                crackSound.play().catch(e => console.log("Audio error:", e));
                
                wholeCookie.classList.add('shake');
                
                setTimeout(() => {
                    wholeCookie.style.opacity = '0';
                    crackedCookie.style.opacity = '1';
                    fortune.style.display = 'block';
                    fortune.textContent = fortunes[Math.floor(Math.random() * fortunes.length)];
                    actionButtons.style.display = 'flex';
                }, 500);
            }
            
            function resetCookie() {
                wholeCookie.style.opacity = '1';
                crackedCookie.style.opacity = '0';
                fortune.style.display = 'none';
                actionButtons.style.display = 'none';
            }
            
            function shareToFacebook(e) {
                e.preventDefault();
                const text = encodeURIComponent("My fortune says: " + fortune.textContent);
                window.open(`https://www.facebook.com/sharer/sharer.php?u=https://yanqinyang.github.io/fortunecookie/&quote=${text}`, '_blank');
            }
            
            wholeCookie.onclick = crackCookie;
            crackAgainBtn.onclick = resetCookie;
            shareFacebook.onclick = shareToFacebook;
        });
    </script>
</body>
</html>
